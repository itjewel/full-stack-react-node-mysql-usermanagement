{"version":3,"sources":["../../js/src/custom-tooltips.js"],"names":["ClassName","TOOLTIP","TOOLTIP_BODY","TOOLTIP_BODY_ITEM","TOOLTIP_HEADER","TOOLTIP_HEADER_ITEM","getOrCreateTooltip","chart","tooltipEl","canvas","parentNode","querySelector","document","createElement","classList","add","table","style","margin","appendChild","customTooltips","context","tooltip","opacity","body","titleLines","title","bodyLines","map","b","lines","tableHead","forEach","tr","borderWidth","th","text","createTextNode","tableBody","i","colors","labelColors","span","background","backgroundColor","borderColor","marginRight","height","width","display","td","tableRoot","firstChild","remove","offsetLeft","positionX","offsetTop","positionY","left","caretX","top","caretY","font","options","bodyFont","string","padding"],"mappings":";;;;;AAOA,MAAMA,UAAY,CAChBC,QAAS,kBACTC,aAAc,uBACdC,kBAAmB,4BACnBC,eAAgB,yBAChBC,oBAAqB,+BAGjBC,mBAAqBC,IACzB,IAAIC,EAAYD,EAAME,OAAOC,WAAWC,cAAc,OAEtD,IAAKH,EAAW,CACdA,EAAYI,SAASC,cAAc,OACnCL,EAAUM,UAAUC,IAAIf,UAAUC,SAElC,MAAMe,EAAQJ,SAASC,cAAc,SACrCG,EAAMC,MAAMC,OAAS,MAErBV,EAAUW,YAAYH,GACtBT,EAAME,OAAOC,WAAWS,YAAYX,GAGtC,OAAOA,GAGHY,eAAiBC,IAErB,MAAMd,MAAEA,EAAFe,QAASA,GAAYD,EACrBb,EAAYF,mBAAmBC,GAGrC,GAAwB,IAApBe,EAAQC,QAEV,YADAf,EAAUS,MAAMM,QAAU,GAK5B,GAAID,EAAQE,KAAM,CAChB,MAAMC,EAAaH,EAAQI,OAAS,GAC9BC,EAAYL,EAAQE,KAAKI,KAAIC,GAAKA,EAAEC,QAEpCC,EAAYnB,SAASC,cAAc,SACzCkB,EAAUjB,UAAUC,IAAIf,UAAUI,gBAElCqB,EAAWO,SAAQN,IACjB,MAAMO,EAAKrB,SAASC,cAAc,MAClCoB,EAAGhB,MAAMiB,YAAc,EACvBD,EAAGnB,UAAUC,IAAIf,UAAUK,qBAE3B,MAAM8B,EAAKvB,SAASC,cAAc,MAClCsB,EAAGlB,MAAMiB,YAAc,EACvB,MAAME,EAAOxB,SAASyB,eAAeX,GAErCS,EAAGhB,YAAYiB,GACfH,EAAGd,YAAYgB,GACfJ,EAAUZ,YAAYc,MAGxB,MAAMK,EAAY1B,SAASC,cAAc,SACzCyB,EAAUxB,UAAUC,IAAIf,UAAUE,cAElCyB,EAAUK,SAAQ,CAACR,EAAMe,KACvB,MAAMC,EAASlB,EAAQmB,YAAYF,GAE7BG,EAAO9B,SAASC,cAAc,QACpC6B,EAAKzB,MAAM0B,WAAaH,EAAOI,gBAC/BF,EAAKzB,MAAM4B,YAAcL,EAAOK,YAChCH,EAAKzB,MAAMiB,YAAc,MACzBQ,EAAKzB,MAAM6B,YAAc,OACzBJ,EAAKzB,MAAM8B,OAAS,OACpBL,EAAKzB,MAAM+B,MAAQ,OACnBN,EAAKzB,MAAMgC,QAAU,eAErB,MAAMhB,EAAKrB,SAASC,cAAc,MAClCoB,EAAGnB,UAAUC,IAAIf,UAAUG,mBAE3B,MAAM+C,EAAKtC,SAASC,cAAc,MAClCqC,EAAGjC,MAAMiB,YAAc,EAEvB,MAAME,EAAOxB,SAASyB,eAAeb,GAErC0B,EAAG/B,YAAYuB,GACfQ,EAAG/B,YAAYiB,GACfH,EAAGd,YAAY+B,GACfZ,EAAUnB,YAAYc,MAGxB,MAAMkB,EAAY3C,EAAUG,cAAc,SAG1C,KAAOwC,EAAUC,YACfD,EAAUC,WAAWC,SAIvBF,EAAUhC,YAAYY,GACtBoB,EAAUhC,YAAYmB,GAGxB,MAAQgB,WAAYC,EAAWC,UAAWC,GAAclD,EAAME,OAG9DD,EAAUS,MAAMM,QAAU,EAC1Bf,EAAUS,MAAMyC,KAAOH,EAAYjC,EAAQqC,OAAS,KACpDnD,EAAUS,MAAM2C,IAAMH,EAAYnC,EAAQuC,OAAS,KACnDrD,EAAUS,MAAM6C,KAAOxC,EAAQyC,QAAQC,SAASC,OAChDzD,EAAUS,MAAMiD,QAAU5C,EAAQ4C,QAAU,MAAQ5C,EAAQ4C,QAAU","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v3.0.0): custom-tooltips.js\n * Licensed under MIT (https://coreui.io/plugins/chart.js)\n * --------------------------------------------------------------------------\n */\n\nconst ClassName = {\n  TOOLTIP: 'chartjs-tooltip',\n  TOOLTIP_BODY: 'chartjs-tooltip-body',\n  TOOLTIP_BODY_ITEM: 'chartjs-tooltip-body-item',\n  TOOLTIP_HEADER: 'chartjs-tooltip-header',\n  TOOLTIP_HEADER_ITEM: 'chartjs-tooltip-header-item'\n}\n\nconst getOrCreateTooltip = chart => {\n  let tooltipEl = chart.canvas.parentNode.querySelector('div')\n\n  if (!tooltipEl) {\n    tooltipEl = document.createElement('div')\n    tooltipEl.classList.add(ClassName.TOOLTIP)\n\n    const table = document.createElement('table')\n    table.style.margin = '0px'\n\n    tooltipEl.appendChild(table)\n    chart.canvas.parentNode.appendChild(tooltipEl)\n  }\n\n  return tooltipEl\n}\n\nconst customTooltips = context => {\n  // Tooltip Element\n  const { chart, tooltip } = context\n  const tooltipEl = getOrCreateTooltip(chart)\n\n  // Hide if no tooltip\n  if (tooltip.opacity === 0) {\n    tooltipEl.style.opacity = 0\n    return\n  }\n\n  // Set Text\n  if (tooltip.body) {\n    const titleLines = tooltip.title || []\n    const bodyLines = tooltip.body.map(b => b.lines)\n\n    const tableHead = document.createElement('thead')\n    tableHead.classList.add(ClassName.TOOLTIP_HEADER)\n\n    titleLines.forEach(title => {\n      const tr = document.createElement('tr')\n      tr.style.borderWidth = 0\n      tr.classList.add(ClassName.TOOLTIP_HEADER_ITEM)\n\n      const th = document.createElement('th')\n      th.style.borderWidth = 0\n      const text = document.createTextNode(title)\n\n      th.appendChild(text)\n      tr.appendChild(th)\n      tableHead.appendChild(tr)\n    })\n\n    const tableBody = document.createElement('tbody')\n    tableBody.classList.add(ClassName.TOOLTIP_BODY)\n\n    bodyLines.forEach((body, i) => {\n      const colors = tooltip.labelColors[i]\n\n      const span = document.createElement('span')\n      span.style.background = colors.backgroundColor\n      span.style.borderColor = colors.borderColor\n      span.style.borderWidth = '2px'\n      span.style.marginRight = '10px'\n      span.style.height = '10px'\n      span.style.width = '10px'\n      span.style.display = 'inline-block'\n\n      const tr = document.createElement('tr')\n      tr.classList.add(ClassName.TOOLTIP_BODY_ITEM)\n\n      const td = document.createElement('td')\n      td.style.borderWidth = 0\n\n      const text = document.createTextNode(body)\n\n      td.appendChild(span)\n      td.appendChild(text)\n      tr.appendChild(td)\n      tableBody.appendChild(tr)\n    })\n\n    const tableRoot = tooltipEl.querySelector('table')\n\n    // Remove old children\n    while (tableRoot.firstChild) {\n      tableRoot.firstChild.remove()\n    }\n\n    // Add new children\n    tableRoot.appendChild(tableHead)\n    tableRoot.appendChild(tableBody)\n  }\n\n  const { offsetLeft: positionX, offsetTop: positionY } = chart.canvas\n\n  // Display, position, and set styles for font\n  tooltipEl.style.opacity = 1\n  tooltipEl.style.left = positionX + tooltip.caretX + 'px'\n  tooltipEl.style.top = positionY + tooltip.caretY + 'px'\n  tooltipEl.style.font = tooltip.options.bodyFont.string\n  tooltipEl.style.padding = tooltip.padding + 'px ' + tooltip.padding + 'px'\n}\n\nexport default customTooltips\n"]}